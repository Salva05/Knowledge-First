{% extends "master.html" %}
{% load static %}

{% block back %}
<a href="#" onclick="history.back();" class="btn btn-outline-light ml-2">Back</a>
{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        {% if posts|length > 0 %}
        <div class="col-lg-10">
            <div class="card rounded-3 shadow">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="bg-primary text-white">
                                <tr>
                                    <th scope="col">Category</th>
                                    <th scope="col">Title</th>
                                    <th scope="col">Author</th>
                                    <th scope="col">Publish Date</th>
                                    <th scope="col">State</th>
                                    <th scope="col">Replies</th>
                                    <th scope="col">Views</th>
                                    <th scope="col">Likes</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for post in posts %}
                                <tr onclick="window.location='{% url 'detail' post.id %}'" style="cursor: pointer;">
                                    <td class="text-capitalize font-weight-bold">{{ post.category }}</td>
                                    <td class="font-weight-bold">{{ post.title }}</td>
                                    <td><img src="{{ post.author.avatar }}" alt="profile image" width="30" height="30"><br>{{ post.author }}</td>
                                    <td>{{ post.pub_date|date:"d/m/Y" }}</td>
                                    <td class="{% if post.state == 'Open' %}text-success{% else %}text-warning{% endif %}">{{ post.state }}</td>
                                    <td>{{ post.total_replies }}</td>
                                    <td>{{ post.views }}</td>
                                    <td>{{ post.total_likes }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        {% else %}
        <div class="text-center">
            <h3 class="text-muted">There are no topics available at the moment.</h3>
        </div>
        {% endif %}
    </div>
</div>

<style>
    .card {
        border: none;
        background-color: #f8f9fa; /* Light gray background */
    }

    .table,
    .table td {
        vertical-align: middle;
        font-size: 16px;
        color: #343a40; /* Dark text color */
		text-align: center;
    }

    th {
        font-weight: bold;
		vertical-align: middle;
        font-size: 16px;
		color: white;
		text-align: center;
    }

    .table-hover tbody tr:hover {
        background-color: rgba(0, 123, 255, 0.1); /* Light blue hover effect */
        transition: background-color 0.3s ease;
    }
</style>
{% endblock %}
