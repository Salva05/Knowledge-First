{% extends "master.html" %}

{% load static %}

{% block content %}

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<div class="container" id="ctnr">
	<div class="col-12 row justify-content-center mx-0 px-0">
		<div class="card" id="userCard2">
			<div class="card-body py-1 px-1 text-dark">
				<img src="../static/avatars/user.png" alt="user image" width="40px" height="40px">
				<strong class="mr-2">{{ post.author }}</strong> - <span class="text-secondary font-italic mr-2">
				{{ post.author.grade }}<span>
			</div>
		</div>
		<div class="col-xs-3 card post-container py-0 mx-0 px-0" id="userCard" style="width: 10rem;">
			<img class="card-img-top" src="../static/avatars/user.png" alt="Card image cap">
			<div class="card-body">
				<p class="card-text text-center" style="color: black"><strong>{{ post.author }}</strong><br>-<br><span
						class="text-secondary font-italic mr-2">{{ post.author.grade }}<span></p>
			</div>
		</div>
		<div class="col-xs-9 col-lg-8 post-container mx-2 px-4 d-flex flex-column">
    <div class="post-meta">Published on {{ post.pub_date }}</div>
    <!-- Post Title -->
    <h1 class="post-title">{{ post.title }}</h1>
    <!-- Post Metadata -->
    <!-- Post Content -->
    <div class="post-content mb-4">
        {{ post.content | safe }}
    </div>
    <div class="mt-auto text-muted lks">
        <a href="#" data-toggle="modal" data-target="#exampleModalCenter">{{ post.likes }} Likes -</a>
        <span>{{ post.views }} Views</span>
    </div>
</div>
	</div>

	{% if replies.count == 0 %}
	<div class="row justify-content-center">
		<div class="col-lg-8 px-4 alert alert-secondary no-comment" role="alert">
			No replies yet. Be the first to reply!
		</div>
	</div>
	{% else %}
	<h2 class="comments-title text-center">Replies:</h2>
	{% for reply in replies %}
	<div class="col-12 row justify-content-center mx-0 px-0">
		<div class="card" id="userCard2">
			<div class="card-body py-1 px-1 text-dark">
				<img src="../static/avatars/user.png" alt="user image" width="40px" height="40px">
				<strong class="mr-2">{{ post.author }}</strong> - <span class="text-secondary font-italic mr-2">
				{{ post.author.grade }}<span>
			</div>
		</div>
		<div class="card post-container py-0 mx-0 px-0" id="userCard" style="width: 10rem;">
			<img class="card-img-top" src="../static/avatars/user.png" alt="Card image cap">
			<div class="card-body">
				<p class="card-text text-center" style="color: black"><strong>{{ post.author }}</strong><br>-<br><span
						class="text-secondary font-italic mr-2">{{ post.author.grade }}<span></p>
			</div>
		</div>
		<div class="col-lg-8 post-container px-4 mx-2 border-left border-dark d-flex flex-column">
			<div class="comment-meta">{{ reply.reply_date }}</div>
			<ul class="comment-list">
				<li class="comment-item">
					<div>{{ reply.content | linebreaks }}</div>
				</li>
			</ul>
			<div class="mt-auto text-muted lks">
				<a href="#" data-toggle="modal" data-target="#exampleModalCenter">{{ reply.likes }} Likes</a>
			</div>
		</div>
	</div>
	{% endfor %}
	{% endif %}
</div>
<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Likes</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<ul>
					<li>John Doe - 2020-01-01</li>
					<li>Jane Doe - 2020-01-02</li>
					<li>John Smith - 2020-01-03</li>
				</ul>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
{% endblock %}